processor_resources:
  - label: "{package}_3062156f74e0c02e"
    hp_transform:
      name: "Prepare Trans Api"
      input: |-
            root = this
      mapping: |-
            root = this
            let transData = {
                "status": this.code,
                "post_status":this.post_status,
                "trans":this.trans,
                "ttxID":this.ttx_id,
                
                "header":this.header,
                "transDt":this.transDt,
                "effDate":this.effDate,
                "confirm":this.confirm
            }
            
            root.redis_key = "cbs_trans_api_onus_" + this.ttx_id
            root.redis_value = $transData
            root.in_cache_value = true
            root.expire = 605000
            
            root.ttx_data = $transData
            root.collection = "ttx_onus"
            
            
      result_mode: merge
      output: |-
            root = this
