{"exposed":{"exposedAll":false,"exposedFormat":"standard","filterIn":{"all":false,"filter":[{"all":false,"children":[{"default":null,"max":0,"min":0,"name":"aftId","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"amount","required":false,"type":"integer","validated":false},{"default":null,"max":0,"min":0,"name":"ccy","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"crAccountName","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"crAccountNumber","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"crBankCode","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"crBankName","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"createdDateTime","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"crProductName","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"crSequence","required":false,"type":"integer","validated":false},{"default":null,"max":0,"min":0,"name":"customerId","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"dateEnd","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"dateStart","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"days","required":false,"type":"integer","validated":false},{"default":null,"max":0,"min":0,"name":"drAccountName","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"drAccountNumber","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"drBankCode","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"drBankName","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"drFee","required":false,"type":"integer","validated":false},{"default":null,"max":0,"min":0,"name":"drProductName","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"frequency","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"lastDate","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"nextDate","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"status","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"totalTimes","required":false,"type":"integer","validated":false},{"default":null,"max":0,"min":0,"name":"transRef","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"transTimes","required":false,"type":"integer","validated":false},{"default":null,"max":0,"min":0,"name":"ttxComment","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"ttxPurpose","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"updatedDateTime","regexp":"","required":false,"type":"string","validated":false}],"max":0,"min":0,"name":"data","required":false,"type":"map","validated":false},{"default":null,"max":0,"min":0,"name":"id","regexp":"","required":false,"type":"string","validated":false}]},"filterOut":{"all":false,"filter":[{"all":true,"max":0,"min":0,"name":"status","required":false,"type":"map","validated":false}]},"useFilterIn":true,"useFilterOut":true},"header":{"input":[],"output":[]},"mainFlow":{"customBenthosInOut":false,"customBenthosInputs":"","customBenthosOutputs":"","exposed":{"exposedAll":false,"exposedFormat":"standard","filterIn":{"all":false,"filter":[{"all":false,"children":[{"default":null,"max":0,"min":0,"name":"aftId","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"amount","required":false,"type":"integer","validated":false},{"default":null,"max":0,"min":0,"name":"ccy","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"crAccountName","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"crAccountNumber","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"crBankCode","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"crBankName","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"createdDateTime","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"crProductName","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"crSequence","required":false,"type":"integer","validated":false},{"default":null,"max":0,"min":0,"name":"customerId","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"dateEnd","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"dateStart","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"days","required":false,"type":"integer","validated":false},{"default":null,"max":0,"min":0,"name":"drAccountName","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"drAccountNumber","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"drBankCode","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"drBankName","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"drFee","required":false,"type":"integer","validated":false},{"default":null,"max":0,"min":0,"name":"drProductName","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"frequency","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"lastDate","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"nextDate","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"status","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"totalTimes","required":false,"type":"integer","validated":false},{"default":null,"max":0,"min":0,"name":"transRef","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"transTimes","required":false,"type":"integer","validated":false},{"default":null,"max":0,"min":0,"name":"ttxComment","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"ttxPurpose","regexp":"","required":false,"type":"string","validated":false},{"default":null,"max":0,"min":0,"name":"updatedDateTime","regexp":"","required":false,"type":"string","validated":false}],"max":0,"min":0,"name":"data","required":false,"type":"map","validated":false},{"default":null,"max":0,"min":0,"name":"id","regexp":"","required":false,"type":"string","validated":false}]},"filterOut":{"all":false,"filter":[{"all":true,"max":0,"min":0,"name":"status","required":false,"type":"map","validated":false}]},"useFilterIn":true,"useFilterOut":true},"flowId":"cc01d0c3feb5a043","flowName":"flow-save-advance-transfer","flow_name":"flow-save-advance-transfer-5a043","header":{"input":[],"output":[]},"isSubflow":true,"nodes":[{"action":"start","advanceCode":"","changed":false,"color":"#ffffff","desc":"","dirty":false,"display":"Start","foundIt":false,"h":30,"id":"988896bd7cda5e14","ignoreNode":false,"inputs":0,"l":true,"name":"Start","nextNodes":[{"cond":"success","id":"dd27a6868a823c64","next":true}],"outputs":1,"processId":"1739173884864966473","processName":"flow-save-advance-transfer-1739173884864966473","resize":false,"rules":[{"cond":""}],"scopeId":"cc01d0c3feb5a043","scopeType":"mainFlow","type":"start","useFilterIn":false,"useFilterOut":false,"uuid":"","valid":true,"validationErrors":[],"vertical":true,"w":30,"wires":[["dd27a6868a823c64"]],"x":652.5,"y":106,"z":"cc01d0c3feb5a043"},{"action":"define","autoInit":true,"borderColor":"#3FADB5","borderLineSize":"2","changed":false,"code":"","color":"#ffffff","desc":"ประกาศตัวแปล input และ output","dirty":false,"display":"Define","endNode":false,"exception":"","filterIn":[{"all":false,"children":[{"default":"","max":0,"min":0,"name":"drBankName","regexp":"","required":false,"type":"string","validated":false},{"default":2,"max":0,"min":0,"name":"transTimes","required":false,"type":"integer","validated":false},{"default":5,"max":0,"min":0,"name":"totalTimes","required":false,"type":"integer","validated":false},{"default":"THB","max":0,"min":0,"name":"ccy","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"crBankName","regexp":"","required":false,"type":"string","validated":false},{"default":1,"max":0,"min":0,"name":"days","required":false,"type":"integer","validated":false},{"default":"","max":0,"min":0,"name":"lastDate","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"dateStart","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"status","regexp":"","required":false,"type":"string","validated":false},{"default":0,"max":0,"min":0,"name":"amount","required":false,"type":"integer","validated":false},{"default":"","max":0,"min":0,"name":"nextDate","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"transRef","regexp":"","required":false,"type":"string","validated":false},{"default":"066","max":0,"min":0,"name":"drBankCode","regexp":"","required":false,"type":"string","validated":false},{"default":0,"max":0,"min":0,"name":"drFee","required":false,"type":"integer","validated":false},{"default":"","max":0,"min":0,"name":"createdDateTime","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"updatedDateTime","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"crAccountName","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"frequency","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"crAccountNumber","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"crProductName","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"ttxComment","regexp":"","required":false,"type":"string","validated":false},{"default":"006","max":0,"min":0,"name":"crBankCode","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"drProductName","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"customerId","regexp":"","required":false,"type":"string","validated":false},{"default":"0","max":0,"min":0,"name":"aftId","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"ttxPurpose","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"drAccountName","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"dateEnd","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"drAccountNumber","regexp":"","required":false,"type":"string","validated":false},{"default":1,"max":0,"min":0,"name":"crSequence","required":false,"type":"integer","validated":false}],"max":0,"min":0,"name":"data","notEmpty":true,"required":false,"type":"map","validated":false},{"all":true,"default":"{}","max":0,"min":0,"name":"dataOlder","notEmpty":true,"required":false,"type":"map","validated":false},{"default":"","max":0,"min":0,"name":"id","regexp":"","required":false,"type":"string","validated":false},{"all":false,"children":[{"default":"Success","max":0,"min":0,"name":"description","regexp":"","required":false,"type":"string","validated":false},{"default":0,"max":0,"min":0,"name":"status","required":false,"type":"integer","validated":false}],"max":0,"min":0,"name":"status","notEmpty":true,"required":false,"type":"map","validated":false}],"filterOut":[{"all":false,"children":[{"default":"","max":0,"min":0,"name":"drBankName","regexp":"","required":false,"type":"string","validated":false},{"default":2,"max":0,"min":0,"name":"transTimes","required":false,"type":"integer","validated":false},{"default":5,"max":0,"min":0,"name":"totalTimes","required":false,"type":"integer","validated":false},{"default":"THB","max":0,"min":0,"name":"ccy","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"crBankName","regexp":"","required":false,"type":"string","validated":false},{"default":1,"max":0,"min":0,"name":"days","required":false,"type":"integer","validated":false},{"default":"","max":0,"min":0,"name":"lastDate","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"dateStart","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"status","regexp":"","required":false,"type":"string","validated":false},{"default":0,"max":0,"min":0,"name":"amount","required":false,"type":"integer","validated":false},{"default":"","max":0,"min":0,"name":"nextDate","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"transRef","regexp":"","required":false,"type":"string","validated":false},{"default":"066","max":0,"min":0,"name":"drBankCode","regexp":"","required":false,"type":"string","validated":false},{"default":0,"max":0,"min":0,"name":"drFee","required":false,"type":"integer","validated":false},{"default":"","max":0,"min":0,"name":"createdDateTime","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"updatedDateTime","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"crAccountName","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"frequency","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"crAccountNumber","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"crProductName","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"ttxComment","regexp":"","required":false,"type":"string","validated":false},{"default":"006","max":0,"min":0,"name":"crBankCode","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"drProductName","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"customerId","regexp":"","required":false,"type":"string","validated":false},{"default":"0","max":0,"min":0,"name":"aftId","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"ttxPurpose","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"drAccountName","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"dateEnd","regexp":"","required":false,"type":"string","validated":false},{"default":"","max":0,"min":0,"name":"drAccountNumber","regexp":"","required":false,"type":"string","validated":false},{"default":1,"max":0,"min":0,"name":"crSequence","required":false,"type":"integer","validated":false}],"max":0,"min":0,"name":"data","notEmpty":true,"required":false,"type":"map","validated":false},{"all":true,"default":"{}","max":0,"min":0,"name":"dataOlder","notEmpty":true,"required":false,"type":"map","validated":false},{"default":"","max":0,"min":0,"name":"id","regexp":"","required":false,"type":"string","validated":false},{"all":false,"children":[{"default":"Success","max":0,"min":0,"name":"description","regexp":"","required":false,"type":"string","validated":false},{"default":0,"max":0,"min":0,"name":"status","required":false,"type":"integer","validated":false}],"max":0,"min":0,"name":"status","notEmpty":true,"required":false,"type":"map","validated":false}],"flipNode":false,"foundIt":false,"h":65,"headerTextColor":"#999696","headerTextSize":"14","id":"dd27a6868a823c64","ignoreNode":false,"inactiveNode":false,"input":[{"children":[{"children":null,"defaultValue":"","expanded":true,"id":"0b7c7ec9ad76ba52","input":true,"label":"drBankName","max":0,"min":0,"name":"drBankName","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":2,"expanded":true,"id":"1315bbec4117acf6","input":true,"label":"transTimes","max":0,"min":0,"name":"transTimes","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false},{"children":null,"defaultValue":5,"expanded":true,"id":"0b6d691638958282","input":true,"label":"totalTimes","max":0,"min":0,"name":"totalTimes","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false},{"children":null,"defaultValue":"THB","expanded":true,"id":"07934f0f83414130","input":true,"label":"ccy","max":0,"min":0,"name":"ccy","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"1268619d3f55c1a9","input":true,"label":"crBankName","max":0,"min":0,"name":"crBankName","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":1,"expanded":true,"id":"1d0febbb0203ee71","input":true,"label":"days","max":0,"min":0,"name":"days","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"02561772c529e94f","input":true,"label":"lastDate","max":0,"min":0,"name":"lastDate","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"0e4633199f8b82e7","input":true,"label":"dateStart","max":0,"min":0,"name":"dateStart","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"098b8fc8472112e4","input":true,"label":"status","max":0,"min":0,"name":"status","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":0,"expanded":true,"id":"105033df8632f87e","input":true,"label":"amount","max":0,"min":0,"name":"amount","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"286ae5f6858b0df1","input":true,"label":"nextDate","max":0,"min":0,"name":"nextDate","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"40c479ebb8fc09d0","input":true,"label":"transRef","max":0,"min":0,"name":"transRef","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"066","expanded":true,"id":"1d1bc288211970fa","input":true,"label":"drBankCode","max":0,"min":0,"name":"drBankCode","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":0,"expanded":true,"id":"1652046af59f347a","input":true,"label":"drFee","max":0,"min":0,"name":"drFee","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"1faf6e495ae49f83","input":true,"label":"createdDateTime","max":0,"min":0,"name":"createdDateTime","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"3e64300b5a32986c","input":true,"label":"updatedDateTime","max":0,"min":0,"name":"updatedDateTime","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"2d07e4367f4e3207","input":true,"label":"crAccountName","max":0,"min":0,"name":"crAccountName","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"2e2b66cf81737e2e","input":true,"label":"frequency","max":0,"min":0,"name":"frequency","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"18c8a9800dc050bd","input":true,"label":"crAccountNumber","max":0,"min":0,"name":"crAccountNumber","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"36fec0de57ca81fb","input":true,"label":"crProductName","max":0,"min":0,"name":"crProductName","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"3c1502ac3b774ef3","input":true,"label":"ttxComment","max":0,"min":0,"name":"ttxComment","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"006","expanded":true,"id":"0275c604bd8e75e3","input":true,"label":"crBankCode","max":0,"min":0,"name":"crBankCode","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"03d9e40d5ace3a39","input":true,"label":"drProductName","max":0,"min":0,"name":"drProductName","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"0d96a9f4194e54c3","input":true,"label":"customerId","max":0,"min":0,"name":"customerId","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"0","expanded":true,"id":"4f7af924f3072c8e","input":true,"label":"aftId","max":0,"min":0,"name":"aftId","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"346d0a45f962be9d","input":true,"label":"ttxPurpose","max":0,"min":0,"name":"ttxPurpose","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"03c6398f21c4d4e6","input":true,"label":"drAccountName","max":0,"min":0,"name":"drAccountName","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"28b9a49f03800f57","input":true,"label":"dateEnd","max":0,"min":0,"name":"dateEnd","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"4052c0587030942b","input":true,"label":"drAccountNumber","max":0,"min":0,"name":"drAccountNumber","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":1,"expanded":true,"id":"0d6b3e1976617bc5","input":true,"label":"crSequence","max":0,"min":0,"name":"crSequence","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false}],"defaultValue":null,"expanded":true,"id":"0519a8abb5188be3","input":true,"label":"data","max":0,"min":0,"name":"data","output":true,"regexp":"","required":false,"selected":true,"sublabel":"map","type":"map","validated":false},{"children":[],"defaultValue":null,"expanded":true,"id":"2b32ea9bcdadfb62","input":true,"label":"dataOlder","max":0,"min":0,"name":"dataOlder","output":true,"regexp":"","required":false,"selected":true,"sublabel":"map","type":"map","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"4847945bc04bee02","input":true,"label":"id","max":0,"min":0,"name":"id","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":[{"children":null,"defaultValue":"Success","expanded":true,"id":"1133a63e47f026f7","input":true,"label":"description","max":0,"min":0,"name":"description","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":0,"expanded":true,"id":"27ca7f11ac1402d2","input":true,"label":"status","max":0,"min":0,"name":"status","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false}],"defaultValue":null,"expanded":true,"id":"140f8090a322ec62","input":true,"label":"status","max":0,"min":0,"name":"status","output":true,"regexp":"","required":false,"selected":true,"sublabel":"map","type":"map","validated":false}],"inputJson":"{\n    \"data\": {\n        \"aftId\": \"0\",\n        \"amount\": 0,\n        \"ccy\": \"THB\",\n        \"crAccountName\": \"\",\n        \"crAccountNumber\": \"\",\n        \"crBankCode\": \"006\",\n        \"crBankName\": \"\",\n        \"crProductName\": \"\",\n        \"crSequence\": 1,\n        \"createdDateTime\": \"\",\n        \"customerId\": \"\",\n        \"dateEnd\": \"\",\n        \"dateStart\": \"\",\n        \"days\": 1,\n        \"drAccountName\": \"\",\n        \"drAccountNumber\": \"\",\n        \"drBankCode\": \"066\",\n        \"drBankName\": \"\",\n        \"drFee\": 0,\n        \"drProductName\": \"\",\n        \"frequency\": \"\",\n        \"lastDate\": \"\",\n        \"nextDate\": \"\",\n        \"status\": \"\",\n        \"totalTimes\": 5,\n        \"transRef\": \"\",\n        \"transTimes\": 2,\n        \"ttxComment\": \"\",\n        \"ttxPurpose\": \"\",\n        \"updatedDateTime\": \"\"\n    },\n    \"dataOlder\": {},\n    \"id\": \"\",\n    \"status\": {\n        \"description\": \"Success\",\n        \"status\": 0\n    }\n}","inputs":1,"l":true,"mainTextColor":"#333333","mainTextSize":"14","name":"Define In/Out","nextNodes":[{"cond":"success","id":"877ba5551e8112c5","next":true}],"output":[{"children":[{"children":null,"defaultValue":"","expanded":true,"id":"0b7c7ec9ad76ba52","input":true,"label":"drBankName","max":0,"min":0,"name":"drBankName","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":2,"expanded":true,"id":"1315bbec4117acf6","input":true,"label":"transTimes","max":0,"min":0,"name":"transTimes","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false},{"children":null,"defaultValue":5,"expanded":true,"id":"0b6d691638958282","input":true,"label":"totalTimes","max":0,"min":0,"name":"totalTimes","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false},{"children":null,"defaultValue":"THB","expanded":true,"id":"07934f0f83414130","input":true,"label":"ccy","max":0,"min":0,"name":"ccy","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"1268619d3f55c1a9","input":true,"label":"crBankName","max":0,"min":0,"name":"crBankName","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":1,"expanded":true,"id":"1d0febbb0203ee71","input":true,"label":"days","max":0,"min":0,"name":"days","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"02561772c529e94f","input":true,"label":"lastDate","max":0,"min":0,"name":"lastDate","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"0e4633199f8b82e7","input":true,"label":"dateStart","max":0,"min":0,"name":"dateStart","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"098b8fc8472112e4","input":true,"label":"status","max":0,"min":0,"name":"status","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":0,"expanded":true,"id":"105033df8632f87e","input":true,"label":"amount","max":0,"min":0,"name":"amount","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"286ae5f6858b0df1","input":true,"label":"nextDate","max":0,"min":0,"name":"nextDate","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"40c479ebb8fc09d0","input":true,"label":"transRef","max":0,"min":0,"name":"transRef","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"066","expanded":true,"id":"1d1bc288211970fa","input":true,"label":"drBankCode","max":0,"min":0,"name":"drBankCode","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":0,"expanded":true,"id":"1652046af59f347a","input":true,"label":"drFee","max":0,"min":0,"name":"drFee","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"1faf6e495ae49f83","input":true,"label":"createdDateTime","max":0,"min":0,"name":"createdDateTime","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"3e64300b5a32986c","input":true,"label":"updatedDateTime","max":0,"min":0,"name":"updatedDateTime","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"2d07e4367f4e3207","input":true,"label":"crAccountName","max":0,"min":0,"name":"crAccountName","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"2e2b66cf81737e2e","input":true,"label":"frequency","max":0,"min":0,"name":"frequency","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"18c8a9800dc050bd","input":true,"label":"crAccountNumber","max":0,"min":0,"name":"crAccountNumber","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"36fec0de57ca81fb","input":true,"label":"crProductName","max":0,"min":0,"name":"crProductName","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"3c1502ac3b774ef3","input":true,"label":"ttxComment","max":0,"min":0,"name":"ttxComment","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"006","expanded":true,"id":"0275c604bd8e75e3","input":true,"label":"crBankCode","max":0,"min":0,"name":"crBankCode","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"03d9e40d5ace3a39","input":true,"label":"drProductName","max":0,"min":0,"name":"drProductName","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"0d96a9f4194e54c3","input":true,"label":"customerId","max":0,"min":0,"name":"customerId","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"0","expanded":true,"id":"4f7af924f3072c8e","input":true,"label":"aftId","max":0,"min":0,"name":"aftId","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"346d0a45f962be9d","input":true,"label":"ttxPurpose","max":0,"min":0,"name":"ttxPurpose","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"03c6398f21c4d4e6","input":true,"label":"drAccountName","max":0,"min":0,"name":"drAccountName","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"28b9a49f03800f57","input":true,"label":"dateEnd","max":0,"min":0,"name":"dateEnd","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"4052c0587030942b","input":true,"label":"drAccountNumber","max":0,"min":0,"name":"drAccountNumber","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":1,"expanded":true,"id":"0d6b3e1976617bc5","input":true,"label":"crSequence","max":0,"min":0,"name":"crSequence","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false}],"defaultValue":null,"expanded":true,"id":"0519a8abb5188be3","input":true,"label":"data","max":0,"min":0,"name":"data","output":true,"regexp":"","required":false,"selected":true,"sublabel":"map","type":"map","validated":false},{"children":[],"defaultValue":null,"expanded":true,"id":"2b32ea9bcdadfb62","input":true,"label":"dataOlder","max":0,"min":0,"name":"dataOlder","output":true,"regexp":"","required":false,"selected":true,"sublabel":"map","type":"map","validated":false},{"children":null,"defaultValue":"","expanded":true,"id":"4847945bc04bee02","input":true,"label":"id","max":0,"min":0,"name":"id","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":[{"children":null,"defaultValue":"Success","expanded":true,"id":"1133a63e47f026f7","input":true,"label":"description","max":0,"min":0,"name":"description","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"defaultValue":0,"expanded":true,"id":"27ca7f11ac1402d2","input":true,"label":"status","max":0,"min":0,"name":"status","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false}],"defaultValue":null,"expanded":true,"id":"140f8090a322ec62","input":true,"label":"status","max":0,"min":0,"name":"status","output":true,"regexp":"","required":false,"selected":true,"sublabel":"map","type":"map","validated":false}],"outputs":1,"processId":"1739173884864966473","processName":"flow-save-advance-transfer-1739173884864966473","resize":false,"rules":[{"cond":"success"}],"sampleResult":"{\n    \"data\": {\n        \"aftId\": \"0\",\n        \"amount\": 0,\n        \"ccy\": \"THB\",\n        \"crAccountName\": \"\",\n        \"crAccountNumber\": \"\",\n        \"crBankCode\": \"006\",\n        \"crBankName\": \"\",\n        \"crProductName\": \"\",\n        \"crSequence\": 1,\n        \"createdDateTime\": \"\",\n        \"customerId\": \"\",\n        \"dateEnd\": \"\",\n        \"dateStart\": \"\",\n        \"days\": 1,\n        \"drAccountName\": \"\",\n        \"drAccountNumber\": \"\",\n        \"drBankCode\": \"066\",\n        \"drBankName\": \"\",\n        \"drFee\": 0,\n        \"drProductName\": \"\",\n        \"frequency\": \"\",\n        \"lastDate\": \"\",\n        \"nextDate\": \"\",\n        \"status\": \"\",\n        \"totalTimes\": 5,\n        \"transRef\": \"\",\n        \"transTimes\": 2,\n        \"ttxComment\": \"\",\n        \"ttxPurpose\": \"\",\n        \"updatedDateTime\": \"\"\n    },\n    \"dataOlder\": {},\n    \"id\": \"\",\n    \"status\": {\n        \"description\": \"Success\",\n        \"status\": 0\n    }\n}","scopeId":"cc01d0c3feb5a043","scopeType":"mainFlow","skeletonConfig":"### Fix Parameter ### \n# {{.type}}\n# {{.exception}}\n# {{.display}}\n# {{.id}}\n# {{.autoInit}}\n# {{.moved}}\n# {{.name}}\n# {{.desc}}\n\n### Databus Parameter ### \n#{}\n","type":"define","useFilterIn":false,"useFilterOut":false,"valid":true,"validationErrors":[],"vertical":true,"w":150,"wires":[["877ba5551e8112c5"]],"x":652.5,"y":220,"z":"cc01d0c3feb5a043"},{"action":"end","advanceCode":"","changed":false,"color":"#ffffff","desc":"","dirty":false,"display":"End","foundIt":false,"h":30,"id":"d8cc3521eb2672b3","ignoreNode":false,"inputs":1,"l":true,"name":"End","nextNodes":[],"outPort":0,"outputs":0,"processId":"1739173884864966473","processName":"flow-save-advance-transfer-1739173884864966473","resize":false,"scopeId":"cc01d0c3feb5a043","scopeType":"mainFlow","type":"end","useFilterIn":false,"useFilterOut":false,"uuid":"","valid":true,"validationErrors":[],"vertical":true,"w":30,"wires":[],"x":800.5,"y":1075,"z":"cc01d0c3feb5a043"},{"action":"decision","borderColor":"#3FADB5","borderLineSize":"2","changed":false,"code":"","color":"#ffffff","decision-field-dataBus-container-div":"","desc":"ตรวจสอบว่า create หรืออัพเดท","dirty":false,"display":"Decision","endNode":false,"exception":"","filterIn":[],"filterOut":[],"flipNode":false,"foundIt":false,"h":65,"headerTextColor":"#999696","headerTextSize":"14","id":"877ba5551e8112c5","ignoreNode":false,"inactiveNode":false,"input":[],"inputs":1,"l":true,"mainTextColor":"#333333","mainTextSize":"14","name":"Check Update or Create","nextNodes":[{"cond":"id == \"\" || id == null","id":"a877734b3ba058a3","next":true},{"cond":"else","id":"669089f861731b54","next":true}],"output":[],"outputs":2,"postEzCode":"","preEzCode":"","processId":"1739173884864966473","processName":"flow-save-advance-transfer-1739173884864966473","resize":false,"rule-container":"","rules":[{"cond":"id == \"\" || id == null"},{"cond":"else"}],"scopeId":"cc01d0c3feb5a043","scopeType":"mainFlow","skeletonConfig":"### Fix Parameter ### \n# {{.exception}}\n# {{.display}}\n# {{.preEzCode}}\n# {{.uuid}}\n# {{.id}}\n# {{.postEzCode}}\n# {{.moved}}\n# {{.desc}}\n# {{.type}}\n# {{.name}}\n\n### Databus Parameter ### \n#{}\n","type":"decision","useFilterIn":false,"useFilterOut":false,"uuid":"","valid":true,"validationErrors":[],"w":220,"wires":[["a877734b3ba058a3"],["669089f861731b54"]],"x":652.5,"y":357,"z":"cc01d0c3feb5a043"},{"action":"code","borderColor":"#3FADB5","borderLineSize":"2","changed":false,"code":"mongodb:\n  name: \"CreateAdvanceTransfer\"\n  profile: |-\n    {{hyper_ibank_mongo_config}}\n  database: advance_transfer\n  operation: insert-one\n  collection: advance_transfer_info\n  \n  input: |-\n    root = this\n\n  document_map: |-\n    root = this.data\n\n\n  result_mode: \"merge\"\n\n  output: |-\n    root = {}\n    root.description = \"Success\"\n    root.status = 0","color":"#ffffff","desc":"Create Data to MongoDB","dirty":false,"display":"Code","endNode":false,"exception":"","filterIn":[],"filterOut":[],"flipNode":false,"foundIt":false,"h":65,"headerTextColor":"#999696","headerTextSize":"14","id":"72463e1ccd867f45","ignoreNode":false,"inactiveNode":false,"input":[],"inputJson":"{}","inputs":1,"isAdvance":true,"l":true,"mainTextColor":"#333333","mainTextSize":"14","name":"Create Advance Transfer","nextNodes":[{"cond":"success","id":"6acc56a24935d542","next":true}],"output":[],"outputs":1,"processId":"1739173884864966473","processName":"flow-save-advance-transfer-1739173884864966473","resize":false,"rules":[{"cond":"success"}],"sampleResult":"{}","scopeId":"cc01d0c3feb5a043","scopeType":"mainFlow","skeletonConfig":"### Fix Parameter ### \n# {{.code}}\n# {{.display}}\n# {{.id}}\n# {{.exception}}\n# {{.type}}\n# {{.uuid}}\n# {{.moved}}\n# {{.desc}}\n# {{.name}}\n\n### Databus Parameter ### \n#{}\n","type":"code","useFilterIn":false,"useFilterOut":false,"uuid":"","valid":true,"validationErrors":[],"w":220,"wires":[["6acc56a24935d542"]],"x":498.5,"y":634,"z":"cc01d0c3feb5a043"},{"action":"transform","borderColor":"#3FADB5","borderLineSize":"2","changed":false,"code":"","color":"#ffffff","desc":"สร้าง id ตาม format uuid แล้ว set ไปที่ _id กับ aftId","dirty":false,"display":"Transform","endNode":false,"exception":"","filterIn":[],"filterOut":[{"all":true,"max":0,"min":0,"name":"data","required":false,"type":"map","validated":false}],"flipNode":false,"foundIt":false,"h":65,"headerTextColor":"#999696","headerTextSize":"14","id":"a877734b3ba058a3","ignoreNode":false,"inactiveNode":false,"input":[],"inputs":1,"l":true,"mainTextColor":"#333333","mainTextSize":"14","name":"Generate _id","nextNodes":[{"cond":"success","id":"72463e1ccd867f45","next":true}],"output":[{"children":[{"children":null,"expanded":true,"id":"5175056402ab7fdc","input":false,"label":"_id","max":0,"min":0,"name":"_id","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"expanded":true,"id":"2f5b4b0dc58af08a","input":false,"label":"aftId","max":0,"min":0,"name":"aftId","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false}],"expanded":true,"id":"42f72dfaebcab287","input":false,"label":"data","max":0,"min":0,"name":"data","output":true,"regexp":"","required":false,"selected":true,"sublabel":"map","type":"map","validated":false}],"outputs":1,"processId":"1739173884864966473","processName":"flow-save-advance-transfer-1739173884864966473","resize":false,"rules":[{"cond":"success"}],"scale":"1.0","scopeId":"cc01d0c3feb5a043","scopeType":"mainFlow","skeletonConfig":"### Fix Parameter ### \n# {{.id}}\n# {{.desc}}\n# {{.uuid}}\n# {{.scale}}\n# {{.name}}\n# {{.transform}}\n# {{.moved}}\n# {{.type}}\n# {{.exception}}\n# {{.display}}\n\n### Databus Parameter ### \n#{}\n","transform":{"links":{"2":{"fromConnector":"output_0","fromOperator":"1","fromSubConnector":0,"toConnector":"data.aftId","toOperator":"output","toSubConnector":0},"3":{"fromConnector":"output_0","fromOperator":"1","fromSubConnector":0,"toConnector":"data._id","toOperator":"output","toSubConnector":0}},"operatorTypes":{},"operators":{"1":{"config":{"fields":{},"inNum":0,"name":"gen_uuid","outNum":1},"left":1500,"properties":{"inputs":{},"outputs":{"output_0":{"label":"string1","multipleLinks":true}},"title":" UUID"},"top":900},"input":{"left":1250,"properties":{"inputs":{},"outputs":{},"title":"Input"},"top":900},"output":{"left":1800,"properties":{"inputs":{"data":{"label":"data::map","multipleLinks":true},"data._id":{"label":"data._id::string","multipleLinks":true},"data.aftId":{"label":"data.aftId::string","multipleLinks":true}},"outputs":{},"title":"Output"},"top":900}}},"transformConfig":{"filterInput":[],"filterOutput":["data","data._id","data.aftId"],"process":[{"__id":"1","input":[],"output":["data.aftId,data._id"],"type":"gen_uuid"}]},"type":"transform","useFilterIn":true,"useFilterOut":true,"uuid":"","valid":true,"validationErrors":[],"w":150,"wires":[["72463e1ccd867f45"]],"x":498.5,"y":497,"z":"cc01d0c3feb5a043"},{"action":"transform","borderColor":"#3FADB5","borderLineSize":"2","changed":false,"code":"","color":"#ffffff","desc":"กำหนดให้ _id, aftId เท่ากับ  id เพื่อ make sure ว่า id ถุกตามที่ต้องการ set","dirty":false,"display":"Transform","endNode":false,"exception":"","filterIn":[{"default":null,"max":0,"min":0,"name":"id","regexp":"","required":false,"type":"string","validated":false}],"filterOut":[],"flipNode":false,"foundIt":false,"h":65,"headerTextColor":"#999696","headerTextSize":"14","id":"669089f861731b54","ignoreNode":false,"inactiveNode":false,"input":[{"expanded":true,"id":"2b9f37e28e970ad0","input":true,"label":"id","max":0,"min":0,"name":"id","output":false,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false}],"inputs":1,"l":true,"mainTextColor":"#333333","mainTextSize":"14","name":"Set id to _id","nextNodes":[{"cond":"success","id":"1c431492c3958b3c","next":true}],"output":[{"children":[{"expanded":true,"id":"3c83606438bdfebd","input":true,"label":"aftId","max":0,"min":0,"name":"aftId","output":false,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"expanded":true,"id":"4d77db3e6d66703b","input":false,"label":"_id","max":0,"min":0,"name":"_id","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false}],"expanded":true,"id":"2c8ce289f819561e","input":true,"label":"data","max":0,"min":0,"name":"data","output":false,"regexp":"","required":false,"selected":true,"sublabel":"map","type":"map","validated":false},{"expanded":true,"id":"2b9f37e28e970ad0","input":true,"label":"id","max":0,"min":0,"name":"id","output":false,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false}],"outputs":1,"processId":"1739173884864966473","processName":"flow-save-advance-transfer-1739173884864966473","resize":false,"rules":[{"cond":"success"}],"scale":"1.0","scopeId":"cc01d0c3feb5a043","scopeType":"mainFlow","skeletonConfig":"### Fix Parameter ### \n# {{.id}}\n# {{.desc}}\n# {{.uuid}}\n# {{.scale}}\n# {{.name}}\n# {{.transform}}\n# {{.moved}}\n# {{.type}}\n# {{.exception}}\n# {{.display}}\n\n### Databus Parameter ### \n#{}\n","transform":{"links":{"1":{"fromConnector":"id","fromOperator":"input","fromSubConnector":0,"toConnector":"data.aftId","toOperator":"output","toSubConnector":0},"2":{"fromConnector":"id","fromOperator":"input","fromSubConnector":0,"toConnector":"data._id","toOperator":"output","toSubConnector":0}},"operatorTypes":{},"operators":{"input":{"left":1330,"properties":{"inputs":{},"outputs":{"id":{"label":"id::string","multipleLinks":true}},"title":"Input"},"top":910},"output":{"left":1710,"properties":{"inputs":{"data":{"label":"data::map","multipleLinks":true},"data._id":{"label":"data._id::string","multipleLinks":true},"data.aftId":{"label":"data.aftId::string","multipleLinks":true},"id":{"label":"id::string","multipleLinks":true}},"outputs":{},"title":"Output"},"top":870}}},"transformConfig":{"filterInput":["id"],"filterOutput":["data","data._id","data.aftId","id"],"process":[{"__id":"r0","input":["id","id"],"output":["data._id","data.aftId"],"type":"rename_fields"}]},"type":"transform","useFilterIn":true,"useFilterOut":true,"uuid":"","valid":true,"validationErrors":[],"w":150,"wires":[["1c431492c3958b3c"]],"x":798,"y":494,"z":"cc01d0c3feb5a043"},{"action":"code","borderColor":"#3FADB5","borderLineSize":"2","changed":false,"code":"mongodb:\n  name: \"UpdateAdvanceTransfer\"\n  profile: |-\n    {{hyper_ibank_mongo_config}}\n  database: advance_transfer\n  operation: replace-one\n  collection: advance_transfer_info\n\n  input: |-\n    root = this\n\n  document_map: |-\n    root = this.dataOlder\n\n  filter_map: |-\n        root = {\"_id\": this.id.string()}\n\n\n  result_mode: \"merge\"\n\n  output: |-\n    root = {}\n    root.description = \"Success\"\n    root.status = 0","color":"#ffffff","desc":"Update Data to MongoDB","dirty":false,"display":"Code","endNode":false,"exception":"","filterIn":[],"filterOut":[],"flipNode":false,"foundIt":false,"h":65,"headerTextColor":"#999696","headerTextSize":"14","id":"634750e121aa2295","ignoreNode":false,"inactiveNode":false,"input":[],"inputJson":"{}","inputs":1,"isAdvance":true,"l":true,"mainTextColor":"#333333","mainTextSize":"14","name":"Update Advance Transfer","nextNodes":[{"cond":"success","id":"d8cc3521eb2672b3","next":true}],"output":[],"outputs":1,"processId":"1739173884864966473","processName":"flow-save-advance-transfer-1739173884864966473","resize":false,"rules":[{"cond":"success"}],"sampleResult":"{}","scopeId":"cc01d0c3feb5a043","scopeType":"mainFlow","skeletonConfig":"### Fix Parameter ### \n# {{.code}}\n# {{.display}}\n# {{.id}}\n# {{.exception}}\n# {{.type}}\n# {{.uuid}}\n# {{.moved}}\n# {{.desc}}\n# {{.name}}\n\n### Databus Parameter ### \n#{}\n","type":"code","useFilterIn":false,"useFilterOut":false,"uuid":"","valid":true,"validationErrors":[],"w":220,"wires":[["d8cc3521eb2672b3"]],"x":800,"y":931,"z":"cc01d0c3feb5a043"},{"action":"code","borderColor":"#3FADB5","borderLineSize":"2","changed":false,"code":"mongodb:\n  name: \"CreateAdvanceTransfer\"\n  profile: |-\n    {{hyper_ibank_mongo_config}}\n  database: advance_transfer\n  operation: find-one\n  collection: advance_transfer_info\n  \n  input: |-\n    root = this\n\n  filter_map: |-\n        root = {\"_id\": this.id}\n\n\n  result_mode: \"merge\"\n\n  output: |-\n    root = {}\n    root.dataOlder = this","color":"#ffffff","desc":"Read Data from MongoDB","dirty":false,"display":"Code","endNode":false,"exception":"","filterIn":[],"filterOut":[],"flipNode":false,"foundIt":false,"h":65,"headerTextColor":"#999696","headerTextSize":"14","id":"1c431492c3958b3c","ignoreNode":false,"inactiveNode":false,"input":[],"inputJson":"{}","inputs":1,"isAdvance":true,"l":true,"mainTextColor":"#333333","mainTextSize":"14","name":"Read Old Advance Transfer","nextNodes":[{"cond":"success","id":"3e5c173d128855b6","next":true}],"output":[],"outputs":1,"processId":"1739173884864966473","processName":"flow-save-advance-transfer-1739173884864966473","resize":false,"rules":[{"cond":"success"}],"sampleResult":"{}","scopeId":"cc01d0c3feb5a043","scopeType":"mainFlow","skeletonConfig":"### Fix Parameter ### \n# {{.code}}\n# {{.display}}\n# {{.id}}\n# {{.exception}}\n# {{.type}}\n# {{.uuid}}\n# {{.moved}}\n# {{.desc}}\n# {{.name}}\n\n### Databus Parameter ### \n#{}\n","type":"code","useFilterIn":false,"useFilterOut":false,"uuid":"","valid":true,"validationErrors":[],"w":240,"wires":[["3e5c173d128855b6"]],"x":799,"y":635,"z":"cc01d0c3feb5a043"},{"action":"transform","borderColor":"#3FADB5","borderLineSize":"2","changed":false,"code":"","color":"#ffffff","desc":"เตรียม data to update","dirty":false,"display":"Transform","endNode":false,"exception":"","filterIn":[{"all":true,"max":0,"min":0,"name":"data","required":false,"type":"map","validated":false}],"filterOut":[{"all":true,"max":0,"min":0,"name":"dataOlder","required":false,"type":"map","validated":false}],"flipNode":false,"foundIt":false,"h":65,"headerTextColor":"#999696","headerTextSize":"14","id":"3e5c173d128855b6","ignoreNode":false,"inactiveNode":false,"input":[{"children":[{"children":null,"expanded":true,"id":"51bfcfd76def6ca7","input":true,"label":"transTimes","max":0,"min":0,"name":"transTimes","output":false,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false},{"children":null,"expanded":true,"id":"162011026ff524a0","input":true,"label":"nextDate","max":0,"min":0,"name":"nextDate","output":false,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false}],"expanded":true,"id":"05fcadadc4771b37","input":true,"label":"data","max":0,"min":0,"name":"data","output":false,"regexp":"","required":false,"selected":true,"sublabel":"map","type":"map","validated":false}],"inputs":1,"l":true,"mainTextColor":"#333333","mainTextSize":"14","name":"Prepare Data to Update","nextNodes":[{"cond":"success","id":"634750e121aa2295","next":true}],"output":[{"children":[{"children":null,"expanded":true,"id":"1816c0030ad66c49","input":false,"label":"nextDate","max":0,"min":0,"name":"nextDate","output":true,"regexp":"","required":false,"selected":true,"sublabel":"string","type":"string","validated":false},{"children":null,"expanded":true,"id":"1f4da869eb439cff","input":false,"label":"transTimes","max":0,"min":0,"name":"transTimes","output":true,"regexp":"","required":false,"selected":true,"sublabel":"integer","type":"integer","validated":false}],"expanded":true,"id":"16f1a59e44c8c642","input":false,"label":"dataOlder","max":0,"min":0,"name":"dataOlder","output":true,"regexp":"","required":false,"selected":true,"sublabel":"map","type":"map","validated":false}],"outputs":1,"processId":"1739173884864966473","processName":"flow-save-advance-transfer-1739173884864966473","resize":false,"rules":[{"cond":"success"}],"scale":"0.8","scopeId":"cc01d0c3feb5a043","scopeType":"mainFlow","skeletonConfig":"### Fix Parameter ### \n# {{.uuid}}\n# {{.name}}\n# {{.flipNode}}\n# {{.moved}}\n# {{.inactiveNode}}\n# {{.transform}}\n# {{.exception}}\n# {{.desc}}\n# {{.endNode}}\n# {{.type}}\n# {{.display}}\n# {{.id}}\n# {{.scale}}\n\n### Databus Parameter ### \n#{}\n","transform":{"links":{"1":{"fromConnector":"data.nextDate","fromOperator":"input","fromSubConnector":0,"toConnector":"dataOlder.nextDate","toOperator":"output","toSubConnector":0},"2":{"fromConnector":"data.transTimes","fromOperator":"input","fromSubConnector":0,"toConnector":"dataOlder.transTimes","toOperator":"output","toSubConnector":0}},"operatorTypes":{},"operators":{"input":{"left":1250,"properties":{"inputs":{},"outputs":{"data":{"label":"data::map","multipleLinks":true},"data.nextDate":{"label":"data.nextDate::string","multipleLinks":true},"data.transTimes":{"label":"data.transTimes::number","multipleLinks":true}},"title":"Input"},"top":900},"output":{"left":1800,"properties":{"inputs":{"dataOlder":{"label":"dataOlder::map","multipleLinks":true},"dataOlder.nextDate":{"label":"dataOlder.nextDate::string","multipleLinks":true},"dataOlder.transTimes":{"label":"dataOlder.transTimes::number","multipleLinks":true}},"outputs":{},"title":"Output"},"top":900}}},"transformConfig":{"filterInput":["data","data.nextDate","data.transTimes"],"filterOutput":["dataOlder","dataOlder.nextDate","dataOlder.transTimes"],"process":[{"__id":"r0","input":["data.transTimes","data.nextDate"],"output":["dataOlder.transTimes","dataOlder.nextDate"],"type":"rename_fields"}]},"type":"transform","useFilterIn":true,"useFilterOut":true,"uuid":"","valid":true,"validationErrors":[],"w":220,"wires":[["634750e121aa2295"]],"x":799.5,"y":778,"z":"cc01d0c3feb5a043"},{"action":"end","advanceCode":"","changed":true,"color":"#ffffff","desc":"","dirty":false,"display":"End","foundIt":false,"h":30,"id":"6acc56a24935d542","ignoreNode":false,"inputs":1,"l":true,"name":"End","nextNodes":[],"outPort":0,"outputs":0,"processId":"1739173884864966473","processName":"flow-save-advance-transfer-1739173884864966473","resize":false,"scopeId":"cc01d0c3feb5a043","scopeType":"mainFlow","type":"end","useFilterIn":false,"useFilterOut":false,"uuid":"","valid":true,"validationErrors":[],"w":30,"wires":[],"x":498.5,"y":771,"z":"cc01d0c3feb5a043"},{"id":"cc01d0c3feb5a043","ignoreNode":true,"info":"","label":"flow-save-advance-transfer","scopeId":"cc01d0c3feb5a043","scopeType":"mainFlow","teamSharing":"Read-Write","type":"tab"}],"output":[null],"startNodeId":"988896bd7cda5e14","transport":{"inputs":"","outputs":"","type":"YAML"}},"nodeList":{"MainFlowId":"cc01d0c3feb5a043","MainFlowName":"flow-save-advance-transfer","Nodes":[{"Action":"","FlowId":"cc01d0c3feb5a043","FlowName":"flow-save-advance-transfer","NodeId":"988896bd7cda5e14","NodeName":"Start","NodeType":"start","Status":"","SubflowId":"","SubflowName":"","headerIn":null,"headerOut":null},{"Action":"","FlowId":"cc01d0c3feb5a043","FlowName":"flow-save-advance-transfer","NodeId":"dd27a6868a823c64","NodeName":"Define In/Out","NodeType":"define","Status":"","SubflowId":"","SubflowName":"","headerIn":null,"headerOut":null},{"Action":"","FlowId":"cc01d0c3feb5a043","FlowName":"flow-save-advance-transfer","NodeId":"d8cc3521eb2672b3","NodeName":"End","NodeType":"end","Status":"","SubflowId":"","SubflowName":"","headerIn":null,"headerOut":null},{"Action":"","FlowId":"cc01d0c3feb5a043","FlowName":"flow-save-advance-transfer","NodeId":"877ba5551e8112c5","NodeName":"Check Update or Create","NodeType":"decision","Status":"","SubflowId":"","SubflowName":"","headerIn":null,"headerOut":null},{"Action":"","FlowId":"cc01d0c3feb5a043","FlowName":"flow-save-advance-transfer","NodeId":"72463e1ccd867f45","NodeName":"Create Advance Transfer","NodeType":"code","Status":"","SubflowId":"","SubflowName":"","headerIn":null,"headerOut":null},{"Action":"","FlowId":"cc01d0c3feb5a043","FlowName":"flow-save-advance-transfer","NodeId":"a877734b3ba058a3","NodeName":"Generate _id","NodeType":"transform","Status":"","SubflowId":"","SubflowName":"","headerIn":null,"headerOut":null},{"Action":"","FlowId":"cc01d0c3feb5a043","FlowName":"flow-save-advance-transfer","NodeId":"669089f861731b54","NodeName":"Set id to _id","NodeType":"transform","Status":"","SubflowId":"","SubflowName":"","headerIn":null,"headerOut":null},{"Action":"","FlowId":"cc01d0c3feb5a043","FlowName":"flow-save-advance-transfer","NodeId":"634750e121aa2295","NodeName":"Update Advance Transfer","NodeType":"code","Status":"","SubflowId":"","SubflowName":"","headerIn":null,"headerOut":null},{"Action":"","FlowId":"cc01d0c3feb5a043","FlowName":"flow-save-advance-transfer","NodeId":"1c431492c3958b3c","NodeName":"Read Old Advance Transfer","NodeType":"code","Status":"","SubflowId":"","SubflowName":"","headerIn":null,"headerOut":null},{"Action":"","FlowId":"cc01d0c3feb5a043","FlowName":"flow-save-advance-transfer","NodeId":"3e5c173d128855b6","NodeName":"Prepare Data to Update","NodeType":"transform","Status":"","SubflowId":"","SubflowName":"","headerIn":null,"headerOut":null},{"Action":"","FlowId":"cc01d0c3feb5a043","FlowName":"flow-save-advance-transfer","NodeId":"6acc56a24935d542","NodeName":"End","NodeType":"end","Status":"","SubflowId":"","SubflowName":"","headerIn":null,"headerOut":null},{"Action":"","FlowId":"cc01d0c3feb5a043","FlowName":"flow-save-advance-transfer","NodeId":"cc01d0c3feb5a043","NodeName":"","NodeType":"tab","Status":"","SubflowId":"","SubflowName":"","headerIn":null,"headerOut":null}]}}